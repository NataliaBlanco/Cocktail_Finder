"use strict";const AllLists=document.querySelector(".js-allLists"),inputCocktailName=document.querySelector(".js-input-cocktail"),btnSearch=document.querySelector(".js-btn-search"),btnReset=document.querySelector(".js-btn-reset"),cocktailList=document.querySelector(".js-list"),cocktailFavList=document.querySelector(".js-favourites-list"),cocktailDefault="margarita",url="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",title=document.getElementById("fav");let listCocktailData=[],listfavCocktailData=[];function handleClickBtnSrch(t){t.preventDefault();dataApi(inputCocktailName.value)}function dataApi(t){fetch(url+t).then(t=>t.json()).then((function(t){console.log(t),listCocktailData=t.drinks,PaintAllCocktails(listCocktailData)}))}function PaintCocktail(t){listfavCocktailData.findIndex(a=>t.idDrink===a.id);let a=`<li class="js-li-card li-card" id=${t.idDrink}>\n    <h3 class=li-card-title>${t.strDrink}</h3>\n    <img src=${t.strDrinkThumb} alt=${t.strDrink} width=150 height=150 class="li-card-img">`;return a+="</li>",a}function PaintAllCocktails(t){cocktailList.innerHTML="";for(const a of t)cocktailList.innerHTML+=PaintCocktail(a);addEventToCard()}function PaintFavCocktail(t){let a=`<li class="js-li-card li-card" id=${t.idDrink}>\n  <i class="fas fa-trash-alt js-li-card-icon  li-card-icon" id=${t.idDrink}></i>\n    <h3 class=li-card-title>${t.strDrink}</h3>\n    <img src=${t.strDrinkThumb} alt=${t.strDrink} class="li-card-img">`;return a+="</li>",a}function PaintFavCocktails(t){title.innerHTML="Favoritos",cocktailFavList.innerHTML="";for(const a of t)cocktailFavList.innerHTML+=PaintFavCocktail(a);DelFav()}function ClickFav(t){const a=t.currentTarget.id,i=listCocktailData.find(t=>t.idDrink===a),l=listfavCocktailData.findIndex(t=>t.idDrink===a);-1===l?(listfavCocktailData.push(i),t.currentTarget.classList.add("selected_cards")):(listfavCocktailData.splice(l,1),t.currentTarget.classList.remove("selected_cards")),PaintFavCocktails(listfavCocktailData),localStorage.setItem("favCocktails",JSON.stringify(listfavCocktailData))}function pullFavList(){const t=JSON.parse(localStorage.getItem("favCocktails"));t&&(listfavCocktailData=t,PaintFavCocktails(t))}function handleClickBtnReset(t){t.preventDefault(),cocktailFavList.innerHTML="",localStorage.removeItem("favCocktails"),listfavCocktailData=[],cocktailList.innerHTML="",title.innerHTML="",PaintAllCocktails(listCocktailData)}function delFavCards(t){const a=t.currentTarget.id,i=listfavCocktailData.findIndex(t=>t.idDrink===a),l=cocktailList.querySelector(`[id='${a}']`);-1!==i&&(listfavCocktailData.splice(i,1),cocktailFavList.innerHTML="",l.classList.remove("selected_cards"),localStorage.setItem("favCocktails",JSON.stringify(listfavCocktailData))),PaintFavCocktails(listfavCocktailData)}function addEventToCard(){const t=document.querySelectorAll(".js-li-card");for(const a of t)a.addEventListener("click",ClickFav)}function DelFav(){const t=document.querySelectorAll(".js-li-card-icon");for(const a of t)a.addEventListener("click",delFavCards)}dataApi("margarita"),btnSearch.addEventListener("click",handleClickBtnSrch),btnReset.addEventListener("click",handleClickBtnReset),pullFavList();